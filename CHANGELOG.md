# 更新日志

## v1.1.0 (2025-09-22)

### 新增功能
- **触发器系统重构**：将触发器与变量的关联关系从一对一改为多对多
  - 修改了 `TriggerDefinition` 领域模型，将 `VariableId` 属性改为 `VariableIds` 列表
  - 添加了新的数据库实体 `DbTriggerVariable` 来维护多对多关系
  - 更新了数据库映射配置和仓储实现
  - 修改了 DTO 和服务层以支持新的多对多关系
  - 更新了 WPF UI 以支持多变量选择

### 技术实现细节
- 添加了新的 `TriggerVariables` 数据库表来维护触发器与变量的多对多关系
- 更新了 `TriggerRepository` 以处理新的关联表
- 修改了 `TriggerManagementService` 的验证逻辑，确保至少选择一个变量
- 更新了 WPF 视图模型以支持多选变量
- 提供了数据库迁移脚本以更新现有数据库结构

### 兼容性说明
- 此更新涉及数据库结构变更，需要运行迁移脚本
- 现有的触发器数据将被迁移到新的表结构中
- API 接口保持向后兼容，但返回的数据结构已更新